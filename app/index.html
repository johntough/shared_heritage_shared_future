<!doctype html>
<html ng-app="shared_heritage_shared_future">
    <head>
        <title>Shared Heritage - Shared Future</title>
        <!-- favicon -->
        <!--link rel='shortcut icon' href='resources/images/favicon.ico?v=1' type='image/x-icon'/ -->
        <!-- Google tags -->
        <meta name="description" content="Shared Heritage - Shared Future" />
        <meta name="keywords" content="shared heritage shared future" />

        <meta name="author" content="John Tough" />
        <meta name="copyright" content="Copyright John Tough 2016" />
        <meta name="application-name" content="Shared Heritage - Shared Future" />

        <!-- Library files for Angular -->
        <script src="resources/js/angular/angular.min.js" type="text/javascript" ></script>
        <script src="resources/js/angular/angular-animate.min.js" type="text/javascript" ></script>
        <script src="resources/js/angular/angular-sanitize.js" type="text/javascript" ></script>

        <!-- Library files for jQuery -->
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
        <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>

        <!-- Google Maps -->
        <script src="http://maps.googleapis.com/maps/api/js?v=3" type="text/javascript"></script>
        <!-- Marker Clusterer -->
        <script src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer.js" type="text/javascript"></script>

        <!-- Custom CSS -->
        <link rel="stylesheet" href="resources/css/custom-styles.css" />
    </head>
        <!-- Application files -->
        <script src="app.js"></script>
    </head>

    <script type="text/javascript">
        function initialize() {
            // Create an array of styles.
            var styles = [{
                    stylers: [
                        { hue: "#00ffe6" },
                        { saturation: -20 }
                    ]
                    },{
                        featureType: "road",
                        elementType: "geometry",
                        stylers: [
                            { visibility: "off" }
                        ]
                    },{
                        featureType: "road",
                        elementType: "labels",
                        stylers: [
                            { visibility: "off" }
                        ]
                    }
                ];

            var mapCenterLatlng = new google.maps.LatLng(39.873078, -3.425662);

            var myOptions = {
                zoom: 6,
                center: mapCenterLatlng,
                disableDefaultUI: true,
                zoomControl: true,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
    
            // Create a new StyledMapType object, passing it the array of styles,
            // as well as the name to be displayed on the map type control.
            var styledMap = new google.maps.StyledMapType(styles, {name: "Styled Map"});

            var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
            //Associate the styled map with the MapTypeId and set it to display.
            map.mapTypes.set('map_style', styledMap);
            map.setMapTypeId('map_style');

            var blueIconSrc = "http://maps.google.com/mapfiles/ms/icons/blue-dot.png";

            // *****************************************************
            // Hinojares
            // *****************************************************
            var hinojaresMarker = new google.maps.Marker({
                position: new google.maps.LatLng(37.715497, -2.998969),
                title: 'Hinojares',
                map: map,
                icon: blueIconSrc
            });

            var hinojaresContentString = 
                '<div id="content">'+
                    '<IMG BORDER="0" height="40" width="60" ALIGN="Left" SRC="resources/images/flag_of_jaén.png"/>'+
                    '<h1 id="firstHeading" class="firstHeading">&nbsp;&nbsp;&nbsp;&nbsp; Hinojares - Province of Jaén</h1>'+
                    '<div id="bodyContent">'+
                        '<br>'+
                        '<iframe width="560" height="315" src="https://www.youtube.com/embed/4xUL1GpR2lU" frameborder="0" allowfullscreen></iframe>'+
                        '<br>'+
                        '<p>Hinojares is a town located in the province of Jaén, Spain. According to the 2014 census the municipality has a population of 370 inhabitants.'+
                        '<br>'+
                        '<br>'+
                        'Jaén is a province of southern Spain, in the eastern part of the autonomous community of Andalusia. It is bordered by the provinces of Ciudad Real, '+
                        'Albacete, Granada and Córdoba. Its capital is Jaén city.'+
                        '<br>'+
                        '<br>'+
                        'Its area is 13,484 km². Its population is 657,387 (2003), of whom just about one-sixth live in the capital. It contains 97 municipalities.'+
                        'The highest point of the province is Pico Mágina (2165 m).'+
                        '</p>'+
                    '</div>'+
                '</div>';

            var hinojaresInfowindow = new google.maps.InfoWindow({
                content: hinojaresContentString
            });

            // *****************************************************
            // Granada
            // *****************************************************
            var granadaMarker = new google.maps.Marker({
                position: new google.maps.LatLng(37.1773, -3.5986),
                title: 'Granada',
                map: map,
                icon: blueIconSrc
            });

            var granadaContentString = 
                '<div id="content">'+
                    '<IMG BORDER="0" height="40" width="60" ALIGN="Left" SRC="resources/images/flag_of_granada.png"/>'+
                    '<h1 id="firstHeading" class="firstHeading">&nbsp;&nbsp;&nbsp;&nbsp; Granada</h1>'+
                    '<div id="bodyContent">'+
                        '<br>'+
                        '<p>Granada is a city and the capital of the province of Granada, in the autonomous community of Andalusia, Spain.'+
                        '<br>'+
                        '<br>'+
                        'Granada is located at the foot of the Sierra Nevada mountains, at the confluence of four rivers, '+
                        'the Beiro, the Darro, the Genil and the Monachil.'+
                        '<br>'+
                        '<br>'+
                        'It sits at an average elevation of 738 metres above sea level, yet is only one hour by car from the Mediterranean coast, the Costa Tropical.'+
                        '</p>'+
                    '</div>'+
                '</div>';

            var granadaInfowindow = new google.maps.InfoWindow({
                content: granadaContentString
            });

            // *****************************************************
            // Jaén
            // *****************************************************
            var jaenMarker = new google.maps.Marker({
                position: new google.maps.LatLng(37.7796, -3.7849),
                title: 'Ciudad de Jaén',
                map: map,
                icon: blueIconSrc
            });

            var jaenContentString = 
                '<div id="content">'+
                    '<IMG BORDER="0" height="40" width="60" ALIGN="Left" SRC="resources/images/flag_of_jaén_city.png"/>'+
                    '<h1 id="firstHeading" class="firstHeading">&nbsp;&nbsp;&nbsp;&nbsp; Jaén</h1>'+
                    '<div id="bodyContent">'+
                        '<br>'+
                        '<p>Jaén is a city in south-central Spain. The name is derived from the Arabic word khayyān (\'crossroads of caravans\').'+
                        '<br>'+
                        '<br>'+
                        'It is the capital of the province of Jaén. It is located in the autonomous community of Andalusia.'+
                        '<br>'+
                        '<br>'+
                        'The inhabitants of the city are known as Jiennenses. Its population is 116,731 (2012), about one-sixth of the population of the province.'+
                        '</p>'+
                    '</div>'+
                '</div>';

            var jaenInfowindow = new google.maps.InfoWindow({
                content: jaenContentString
            });

            // *****************************************************
            // Pico Mágina
            // *****************************************************
            var picoMaginaMarker = new google.maps.Marker({
                position: new google.maps.LatLng(37.7250, -3.4667),
                title: 'Pico Mágina',
                map: map,
                icon: blueIconSrc
            });

            var picoMaginaContentString = 
                '<div id="content">'+
                    '<h1 id="firstHeading" class="firstHeading">Pico Mágina</h1>'+
                    '<div id="bodyContent">'+
                        '<p>Pico Mágina is a 2,165-metre (7,103 ft) high mountain in Spain.'+
                        '<br>'+
                        '<br>'+
                        'The mountain is located in Jaén Province, in the northern part of the autonomous community of Andalusia.'+
                        '<br>'+
                        '<br>'+
                        'It\'s the highest peak of the province and also of Sierra Mágina, and is located on the border between the municipalities of Albanchez de Mágina and Huelma.'+
                        '</p>'+
                    '</div>'+
                '</div>';

            var picoMaginaInfowindow = new google.maps.InfoWindow({
                content: picoMaginaContentString
            });

            var closeInfoWindows = function() {
                hinojaresInfowindow.close();
                granadaInfowindow.close();
                jaenInfowindow.close();
                picoMaginaInfowindow.close();
            };
            hinojaresMarker.addListener('click', function() {
                closeInfoWindows();
                hinojaresInfowindow.open(map, hinojaresMarker);
            });
            granadaMarker.addListener('click', function() {
                closeInfoWindows();
                granadaInfowindow.open(map, granadaMarker);
            });
            jaenMarker.addListener('click', function() {
                closeInfoWindows();
                jaenInfowindow.open(map, jaenMarker);
            });
            picoMaginaMarker.addListener('click', function() {
                closeInfoWindows();
                picoMaginaInfowindow.open(map, picoMaginaMarker);
            });

            var markerArray = [];
            markerArray.push(hinojaresMarker, granadaMarker, jaenMarker, picoMaginaMarker);
            var markerClustererOptions = {gridSize: 50};
            var markerClusterer = new MarkerClusterer(map, markerArray, markerClustererOptions);
        }
    </script>

    <div data-role="page">

    <!-- Application Header -->
    <div data-role="header" data-position="fixed">
        <h1>Shared Heritage - Shared Future</h1>
    </div>

    <!-- Map Canvas -->
    <div data-role="content">
        <div id="map_canvas" style="width: 100%; height: 100%; position: absolute;"></div>
    </div>

    <body onload="initialize()" />
</html>